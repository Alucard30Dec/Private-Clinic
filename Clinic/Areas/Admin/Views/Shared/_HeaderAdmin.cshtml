@* Thanh topbar đơn giản *@
@{
    // Xác định role hiện tại để hiển thị
    var roleDisplay = User.IsInRole("Admin")
        ? "Admin"
        : (User.IsInRole("Doctor")
            ? "Bác sĩ"
            : (User.IsInRole("Receptionist")
                ? "Lễ tân"
                : "Người dùng"));

    // Dòng mô tả panel
    var panelDisplay = roleDisplay + " Panel";
    var userName = User.Identity.IsAuthenticated ? User.Identity.Name : roleDisplay;
}

<header class="admin-header px-3">
    <div class="d-flex align-items-center justify-content-between">
        <button class="btn btn-sm btn-outline-light d-lg-none" id="sidebarToggle">
            <i class="ti ti-menu-2"></i>
        </button>

        <div class="d-none d-md-flex align-items-center gap-3">
            <span class="text-white-50 small">@panelDisplay</span>
        </div>

        <div class="d-flex align-items-center gap-2">
            <button class="btn btn-sm btn-outline-light position-relative" title="Thông báo">
                <i class="ti ti-bell"></i>
                <span class="badge rounded-pill bg-danger notif-dot"></span>
            </button>

            <div class="dropdown">
                <a class="d-flex align-items-center text-white text-decoration-none dropdown-toggle" href="#"
                   data-bs-toggle="dropdown">
                    <img src="https://i.pravatar.cc/36" class="rounded-circle me-2" width="32" height="32" alt="avatar" />
                    <span class="small">@roleDisplay</span>
                </a>
                <ul class="dropdown-menu dropdown-menu-end">
                    <li class="dropdown-header">
                        <div class="fw-semibold">@userName</div>
                        <div class="text-muted small">@roleDisplay</div>
                    </li>
                    <li><a class="dropdown-item" href="#"><i class="ti ti-user me-2"></i>Hồ sơ</a></li>
                    <li><a class="dropdown-item" href="#"><i class="ti ti-settings me-2"></i>Cài đặt</a></li>
                    <li><hr class="dropdown-divider" /></li>
                    <li>
                        <a class="dropdown-item text-danger" href="@Url.Action("LogOff","Account", new { area = "" })">
                            <i class="ti ti-logout me-2"></i>Đăng xuất
                        </a>
                    </li>
                </ul>
            </div>
        </div>
    </div>
</header>
