@{
    ViewBag.Title = "Private Clinic | Chăm sóc sức khỏe chuẩn quốc tế";
}

@if (TempData["Success"] != null)
{
    <div class="alert alert-success text-center mb-0 rounded-0">
        @TempData["Success"]
    </div>
}
@if (TempData["Error"] != null)
{
    <div class="alert alert-danger text-center mb-0 rounded-0">
        @TempData["Error"]
    </div>
}

@section Styles {
    <style>
        /* ===== HERO ===== */
        .hero-ivy {
            position: relative;
            padding: 120px 0 80px;
            background: linear-gradient(180deg, rgba(35,151,154,0.08), rgba(255,255,255,0));
            overflow: hidden;
        }

        .hero-title {
            color: #0f8e92;
            font-weight: 800;
            line-height: 1.1;
        }

            .hero-title .line {
                display: block;
            }

        .hero-sub {
            color: #4f6b6c;
            font-weight: 600;
        }

        /* Form box */
        .form-box-ivy {
            background: linear-gradient(180deg, rgba(35,151,154,.85), rgba(35,151,154,.75));
            border-radius: 18px;
            padding: 20px;
            box-shadow: 0 16px 40px rgba(0,0,0,.12);
            color: #0b1f21;
            max-width: 520px;
        }

            .form-box-ivy h5 {
                font-weight: 800;
                margin-bottom: 12px;
            }

            .form-box-ivy .form-control {
                height: 48px;
                border-radius: 10px;
                border: 1px solid rgba(0,0,0,.08);
            }

        .btn-ivy-cta {
            background: #e74c3c;
            color: #fff;
            border: none;
            border-radius: 12px;
            height: 48px;
            font-weight: 800;
        }

            .btn-ivy-cta:hover {
                filter: brightness(1.06);
            }

        /* Ảnh bác sĩ cột phải (cover) */
        .hero-bg-doctor {
            background: url("../Content/images/BacSiNam.jpg") no-repeat center center;
            background-size: cover;
            min-height: 600px;
            border-radius: 16px;
        }

        /* ===== ABOUT (Giới thiệu) ===== */
        .ivy-about {
            background: #f7fbfb;
        }

        .about-title span {
            display: inline-block;
            color: #1a7f81;
            font-weight: 800;
            letter-spacing: .6px;
            text-transform: uppercase;
            border-top: 8px solid #23979a;
            padding-top: .6rem;
        }

        .about-img {
            width: 100%;
            height: auto;
            border-radius: 16px;
            object-fit: cover;
        }

        .text-teal {
            color: #23979a;
        }

        .about-lead {
            font-size: 1.05rem;
            line-height: 1.7;
            color: #334b4c;
        }

        .about-bullets {
            list-style: none;
            padding: 0;
            margin: 0;
        }

            .about-bullets li {
                position: relative;
                padding-left: 28px;
                margin-bottom: .6rem;
                color: #4f6b6c;
            }

                .about-bullets li::before {
                    content: "";
                    position: absolute;
                    left: 0;
                    top: .55rem;
                    width: 10px;
                    height: 10px;
                    border-radius: 50%;
                    background: #23979a;
                }

        /* ===== FACILITY (Trang thiết bị – Private Clinic) ===== */
        .ivy-facility {
            background: linear-gradient(180deg, rgba(35,151,154,.05), rgba(255,255,255,0));
        }

        .facility-title span {
            display: inline-block;
            color: #1a7f81;
            font-weight: 800;
            letter-spacing: .6px;
            text-transform: uppercase;
            border-top: 8px solid #23979a;
            padding-top: .6rem;
        }

        .facility-hero {
            max-width: 520px;
            width: 100%;
            height: auto;
            object-fit: contain;
        }

        .facility-item {
            gap: 16px;
        }

            .facility-item .facility-icon {
                width: 80px;
                height: 80px;
                min-width: 80px;
                border-radius: 50%;
                background: #e7f5f6;
                display: flex;
                align-items: center;
                justify-content: center;
                box-shadow: 0 6px 18px rgba(0,0,0,.08);
            }

                .facility-item .facility-icon img {
                    width: 44px;
                    height: 44px;
                    object-fit: contain;
                }

        .facility-pill {
            background: #22a6ab;
            color: #fff;
            padding: 16px 22px;
            border-radius: 999px;
            box-shadow: 0 8px 24px rgba(0,0,0,.12);
            font-weight: 600;
            line-height: 1.6;
        }

        @@media (max-width: 991.98px) {
            .hero-ivy {
                padding: 80px 0;
            }

            .hero-title {
                font-size: 32px;
            }

            .form-box-ivy {
                max-width: 100%;
            }

            .hero-bg-doctor {
                min-height: 360px;
                margin-top: 24px;
            }

            .about-title span {
                font-size: 1.25rem;
                border-top-width: 6px;
            }

            .about-lead {
                font-size: 1rem;
            }

            .facility-hero {
                max-width: 100%;
                margin-bottom: 10px;
            }

            .facility-item .facility-icon {
                width: 64px;
                height: 64px;
                min-width: 64px;
            }

                .facility-item .facility-icon img {
                    width: 36px;
                    height: 36px;
                }

            .facility-pill {
                border-radius: 20px;
            }
        }
    </style>
}

<!-- ===== HERO ===== -->
<section class="hero-ivy" id="hero">
    <div class="container">
        <div class="row align-items-center g-4">
            <!-- Trái: tiêu đề + form --> 
            <div class="col-lg-6">
                <h1 class="hero-title display-4 mb-3">
                    <span class="line">CHĂM SÓC SỨC KHỎE</span>
                    <span class="line">CHUẨN QUỐC TẾ</span>
                </h1>
                <p class="hero-sub mb-4">Đăng kí khám không chờ đợi – chọn giờ linh hoạt, xác nhận ngay.</p>

                <div class="form-box-ivy">
                    <h5>ĐĂNG KÍ KHÁM KHÔNG CHỜ ĐỢI</h5>
                    @{
                        var old = TempData["FormData"] as Private_Clinic.Models.QuickRegisterVM;
                    }
                    <form method="post" action="@Url.Action("QuickRegister","Appointment")" id="quick-register-form" novalidate>
                        @Html.AntiForgeryToken()

                        <div class="mb-2">
                            <input class="form-control" name="FullName" placeholder="Họ và tên"
                                   value="@(old?.FullName ?? "")" required />
                        </div>

                        <div class="row g-2 mb-2">
                            <div class="col-sm-6">
                                <input class="form-control" type="email" name="Email" placeholder="Email"
                                       value="@(old?.Email ?? "")" required />
                            </div>
                            <div class="col-sm-6">
                                <input class="form-control" name="Phone" placeholder="Số điện thoại"
                                       value="@(old?.Phone ?? "")" pattern="^0\d{9,10}$" required />
                            </div>
                        </div>

                        <div class="mb-2">
                            <input class="form-control" name="Address" placeholder="Địa chỉ"
                                   value="@(old?.Address ?? "")" required />
                        </div>

                        <div class="mb-3">
                            <textarea class="form-control" name="Note" placeholder="Để lại lời nhắn cho chúng tôi" rows="3"
                                      required>@(old?.Note ?? "")</textarea>
                        </div>

                        <button type="submit" class="btn btn-ivy-cta w-100">ĐĂNG KÍ KHÁM BỆNH</button>
                    </form>
                </div>
            </div>

            <!-- Phải: ảnh bác sĩ phủ kín -->
            <div class="col-lg-6">
                <div class="hero-bg-doctor"></div>
            </div>
        </div>
    </div>
</section>

<!-- ===== ABOUT / GIỚI THIỆU ===== -->
<section id="about" class="about ivy-about py-5">
    <div class="container">
        <h2 class="about-title text-center mb-4">
            <span>Giới Thiệu PRIVATE CLINIC</span>
        </h2>

        <div class="row align-items-start g-4">
            <!-- Trái: Ảnh -->
            <div class="col-lg-6">
                <img src="@Url.Content("~/Content/images/about-building.jpg")"
                     alt="Private Clinic"
                     class="img-fluid rounded-4 shadow-sm about-img" />
            </div>

            <!-- Phải: Nội dung -->
            <div class="col-lg-6">
                <p class="about-lead">
                    <strong class="text-teal">Private Clinic</strong> được đầu tư phát triển với hệ thống trang thiết bị hiện đại theo tiêu chuẩn quốc tế,
                    cùng đội ngũ chuyên khoa giàu kinh nghiệm và tận tâm. Chúng tôi hướng tới trải nghiệm thăm khám nhanh chóng,
                    đặt lịch linh hoạt và dịch vụ chăm sóc cá nhân hoá.
                </p>

                <p class="about-lead mb-4">
                    <strong class="text-teal">Mục tiêu chính</strong> của phòng khám là sự chuyên nghiệp trong khám chữa bệnh và tư vấn sức khoẻ cao cấp,
                    trong một không gian ấm áp – gần gũi, để mỗi khách hàng đều cảm thấy yên tâm và thoải mái.
                </p>

                <ul class="about-bullets">
                    <li>Thiết bị hiện đại, quy trình tối ưu – xác nhận lịch trong 1 phút</li>
                    <li>Bác sĩ tận tâm, theo dõi sát – bảo mật thông tin</li>
                    <li>Dịch vụ chất lượng, giá minh bạch – hỗ trợ 24/7</li>
                </ul>
            </div>
        </div>
    </div>
</section>

<!-- ===== FACILITY / TRANG THIẾT BỊ – PRIVATE CLINIC ===== -->
<section id="facility" class="facility ivy-facility py-5">
    <div class="container">
        <h2 class="text-center mb-4 facility-title">
            <span>TRANG THIẾT BỊ PHÒNG KHÁM – PRIVATE CLINIC</span>
        </h2>

        <div class="row align-items-center g-4">
            <!-- Trái: minh họa thiết bị -->
            <div class="col-lg-6 text-center">
                <img src="@Url.Content("~/Content/images/Thietbi1.jpg")"
                     alt="Thiết bị Private Clinic"
                     class="img-fluid rounded-4 shadow-sm facility-hero" />
            </div>

            <!-- Phải: 3 điểm nổi bật -->
            <div class="col-lg-6">
                <div class="facility-item d-flex align-items-center mb-3">
                    <div class="facility-text flex-grow-1">
                        <div class="facility-pill">
                            <strong>Độ chính xác cao – Công nghệ hiện đại.</strong>
                            Private Clinic đầu tư hệ thống thiết bị tiên tiến giúp nâng cao chất lượng chẩn đoán.
                        </div>
                    </div>
                </div>

                <div class="facility-item d-flex align-items-center mb-3">
                    <div class="facility-text flex-grow-1">
                        <div class="facility-pill">
                            <strong>Đối tác quốc tế uy tín.</strong>
                            Hợp tác cùng các nhà cung cấp hàng đầu từ Mỹ, Đức, Anh, Nhật… đảm bảo tiêu chuẩn quốc tế.
                        </div>
                    </div>
                </div>

                <div class="facility-item d-flex align-items-center">
                    <div class="facility-text flex-grow-1">
                        <div class="facility-pill">
                            <strong>An toàn & nhất quán kết quả.</strong>
                            Phòng xét nghiệm đạt an toàn sinh học cấp II, kiểm chuẩn định kỳ để đảm bảo độ chính xác.
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>


@section Scripts {
    <script>
        (function () {
            var form = document.getElementById("quick-register-form");
            form.addEventListener("submit", function (e) {
                if (!form.checkValidity()) {
                    e.preventDefault();

                    var invalid = form.querySelector(":invalid");
                    if (invalid) invalid.focus();

                    var email = form.querySelector('input[name="Email"]');
                    if (email && email.validity.typeMismatch) {
                        alert("Email không hợp lệ (phải chứa @@)."); // Razor: @@ => ký tự @@
                        return;
                    }

                    var phone = form.querySelector('input[name="Phone"]');
                    if (phone && !/^0\d{9,10}$/.test(phone.value)) {
                        alert("Số điện thoại phải bắt đầu bằng 0 và có 10-11 số.");
                        return;
                    }

                    alert("Vui lòng điền đầy đủ thông tin.");
                }
            }, false);
        })();
    </script>
}
